# Inverse Scaling Experiment Configuration
# ==========================================

experiment:
  name: "inverse_scaling_study"
  version: "1.0.0"
  description: "Investigating inverse scaling phenomena in language models"
  seed: 42
  output_dir: "results"
  log_level: "INFO"

# Model configurations for multi-scale evaluation
models:
  # OpenAI models (different scales)
  openai:
    - name: "gpt-3.5-turbo"
      provider: "openai"
      estimated_params: "20B"
      enabled: true
    - name: "gpt-4"
      provider: "openai"
      estimated_params: "1.7T"
      enabled: true
    - name: "gpt-4-turbo"
      provider: "openai"
      estimated_params: "1.7T+"
      enabled: true

  # Anthropic models
  anthropic:
    - name: "claude-3-haiku-20240307"
      provider: "anthropic"
      estimated_params: "20B"
      enabled: true
    - name: "claude-3-sonnet-20240229"
      provider: "anthropic"
      estimated_params: "70B"
      enabled: true
    - name: "claude-3-opus-20240229"
      provider: "anthropic"
      estimated_params: "200B+"
      enabled: true

  # Open-source models (HuggingFace)
  huggingface:
    - name: "meta-llama/Llama-2-7b-chat-hf"
      provider: "huggingface"
      estimated_params: "7B"
      enabled: true
    - name: "meta-llama/Llama-2-13b-chat-hf"
      provider: "huggingface"
      estimated_params: "13B"
      enabled: true
    - name: "meta-llama/Llama-2-70b-chat-hf"
      provider: "huggingface"
      estimated_params: "70B"
      enabled: true
    - name: "mistralai/Mistral-7B-Instruct-v0.2"
      provider: "huggingface"
      estimated_params: "7B"
      enabled: true
    - name: "mistralai/Mixtral-8x7B-Instruct-v0.1"
      provider: "huggingface"
      estimated_params: "47B"
      enabled: true

# Task definitions
tasks:
  # Simple arithmetic - larger models may overthink
  simple_arithmetic:
    enabled: true
    description: "Basic arithmetic that shouldn't require complex reasoning"
    num_samples: 500
    subtasks:
      - single_digit_addition
      - single_digit_multiplication
      - simple_subtraction
      - basic_division

  # Strict rule following
  rule_following:
    enabled: true
    description: "Tasks requiring exact adherence to simple rules"
    num_samples: 500
    subtasks:
      - repeat_exactly
      - count_words
      - reverse_string
      - follow_format

  # Pattern completion (simple)
  simple_patterns:
    enabled: true
    description: "Simple sequences that invite overthinking"
    num_samples: 500
    subtasks:
      - numeric_sequences
      - alphabetic_patterns
      - repetition_patterns

  # Literal instruction following
  literal_instructions:
    enabled: true
    description: "Tasks requiring literal interpretation"
    num_samples: 500
    subtasks:
      - do_not_explain
      - respond_with_single_word
      - ignore_context
      - exact_format_output

  # Persona consistency
  persona_maintenance:
    enabled: true
    description: "Maintaining a consistent simple persona"
    num_samples: 300
    subtasks:
      - single_trait_persona
      - restricted_vocabulary
      - consistent_style

# Evaluation settings
evaluation:
  num_runs: 3
  temperature: 0.0
  max_tokens: 256
  timeout_seconds: 60
  batch_size: 10

  metrics:
    - accuracy
    - exact_match
    - format_compliance
    - response_length
    - overthinking_score

# Statistical analysis
analysis:
  confidence_level: 0.95
  bootstrap_samples: 1000
  curve_fitting:
    - linear
    - quadratic
    - inverse_u

  tests:
    - mann_whitney_u
    - kruskal_wallis
    - permutation_test

# Dashboard settings
dashboard:
  host: "0.0.0.0"
  port: 5001
  debug: false
  secret_key: "change-this-in-production"

  features:
    real_time_updates: true
    export_figures: true
    dataset_management: true
    trial_control: true

# API rate limiting
rate_limits:
  openai:
    requests_per_minute: 60
    tokens_per_minute: 90000
  anthropic:
    requests_per_minute: 50
    tokens_per_minute: 100000
  huggingface:
    requests_per_minute: 100
    concurrent_requests: 4

# Logging
logging:
  console_level: "INFO"
  file_level: "DEBUG"
  log_file: "results/experiment.log"
  wandb:
    enabled: false
    project: "inverse-scaling"
    entity: null
